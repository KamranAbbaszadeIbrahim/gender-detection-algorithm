= Gender Detection API
Kamran Abbaszade;
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 4
:sectlinks:
:operation-curl-request-title: Example request
:operation-http-response-title: Example response

[[overview]]
= Overview

[[overview_model_dto]]
== Model DTO Classes

For implementation of gender detection algorithms three model classes were designed.

=== RequestDto

Model POJO class representing the JSON object provided in Http Post request to `"/request"` endpoint.

|===
| Modifier and Type | Field and Description

| String
| `name` - Used to hold name for further evaluation through algorithms of gender detection
|===

=== ResourceDto

Model POJO class representing the JSON object retrieved from Http Get request to `"/resource"` endpoint.

|===
| Modifier and Type | Field and Description

| List<String>
| `listOfMaleNames` - Used to keep list of male names

| List<String>
| `listOfFemaleNames` - Used to keep list of female names
|===

=== ResponseDto

Model POJO class representing the JSON object retrieved from Http Post request to `"/request"` endpoint.

|===
| Modifier and Type | Field and Description

| String
| `firstAlgorithmResult` - Used to keep results of analysing name using first algorithm, when only first token is checked

| String
| `secondAlgorithmResult` - Used to keep results of analysing name using second algorithm, when all token are checked. 
If frequency of male name`s occurance is more than for female names, then result is Male, oppositly - Female. In case of equal frequency - INCONCLUSIVE
|===

[[overview_util]]
== Utility classes

In order to evaluate the fastest manipulations with Flat Text Files two utils classes were 
created. They are: *FileResourcesUtils* and *ResourceReaderUtils*.

=== FileResourcesUtils

Util class designed to read Resources directory of root source as a stream and convert it into InputStream Object.

|===
| Modifier and Type | Method and Description

| InputStream
| `getFileFromResourceAsStream(String fileName)` - Used to get File from Resource folder as stream
|===

==== Method Detail

java.io.InputStream getFileFromResourceAsStream(String fileName)

*Parameters:* fileName - name of the File.

*Returns:* reference to InputStream Object of file.

=== ResourceReaderUtils

Util abstract class designed to read InputStream Object using BufferedReader and convert it 
into String LinkedList object.

|===
| Modifier and Type | Method and Description

| List<String>
| `bufferedResourceReaderToList(String fileName)` - Used to read file and convert it into List of Strings
|===

==== Method Detail

List<String> bufferedResourceReaderToList(String fileName)

*Parameters:* fileName - name of the File.

*Returns:* reference to List of Strings Object represented as LinkedList.

[[overview_algorithm]]
== Algorithm implementation

In order to implement gender detection algorithms a GenderDetectionAlgorithm interface and 
GenderDetectionAlgorithmImpl class were created.

=== GenderDetectionAlgorithm

An interface with declared method designed to be implemented for gender detection.

|===
| Modifier and Type | Method and Description

| org.java.model.ResponseDto
| `detectGender(RequestDto requestDto)` - Can be used to detect gender by name
|===

==== Method Detail

org.java.model.ResponseDto detectGender(RequestDto requestDto)

*Parameters:* requestDto - RequestDto object.

*Returns:* reference to ResponseDto object, with results of passing name through two algorithms.

=== GenderDetectionAlgorithmImpl

An implementation of GenderDetectionAlgorithm interface with overriden method detectGender() 
and two private methods used to desribe two algorithms of gender detection.

|===
| Modifier and Type | Method and Description

| org.java.model.ResponseDto
| `detectGender(RequestDto requestDto)` - Used to detect gender by name and construct ResponseDto object.
|===

==== Method Detail

org.java.model.ResponseDto detectGender(RequestDto requestDto)

*Parameters:* requestDto - RequestDto object.

*Returns:* reference to ResponseDto object, with results of passing name through two algorithms.

[[overview_service]]
== Service Layer